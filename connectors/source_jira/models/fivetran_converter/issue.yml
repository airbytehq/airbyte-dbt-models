version: 2

models:
  - name: issue
    schema: "{{ var('airbyte_schema', target.schema) }}"
    database: "{{ var('airbyte_database', target.database) }}"
    identifier: "{{ var('jira_issue_identifier', 'issue') }}"
    description: Table of all issues in your organization's Jira (captures soft deletes).
    config:
      +enabled: "{{ var('using_fivetran_model', False) }}"
    columns:
      - name: id
        description: Unique ID of the issue. 
      - name: assignee
        description: Foreign key referencing the ID of the `user` currently assigned to this task.
      - name: created
        description: Timestamp of when the issue was created (in UTC).
      - name: creator
        description: Foreign key referencing the `user` who first created the issue. Cannot be changed.
      - name: description
        description: The issue description, if given.
      - name: due_date
        description: Calendar day on which the issue is due, if a due date is provided.
      - name: environment
        description: Text field describing the environment in which the issue occurred (ie "IE9 on Windows 7").
      - name: issue_type
        description: Foreign key referencing the ID of the `issue_type`. 
      - name: key
        description: UI-facing id of the issue.
      - name: original_estimate
        description: The original estimate of how long working on this issue would take, in seconds.
      - name: _original_estimate
        description: The original estimate of how long working on this issue would take, in seconds.
      - name: parent_id
        description: Self-referencing ID of the parent `issue`. 
      - name: priority
        description: Foreign key referencing the ID of the issue's current `priority`.
      - name: project
        description: Foreign key referencing the ID of the `project` that the issue belongs to.
      - name: remaining_estimate
        description: The estimate of how much longer working on this issue will take, in seconds.
      - name: remaining_estimate
        description: The estimate of how much longer working on this issue will take, in seconds.
      - name: reporter
        description: >
          Foreign key referencing the ID of the `user` who reported the issue. This differs from the `creator` column 
          in that the reporter can be changed in-app.
      - name: resolution
        description: Foreign key referencing the ID of the issue's type of `resolution`.
      - name: resolved
        description: >
          Timestamp of when the issue was resolved (ie completed, marked as duplicate). If an 
          issue is marked as un-resolved, this is null.
      - name: status
        description: >
          Foreign key referencing the ID of the issue's `status` (the step that the issue is currently at in the project's workflow).
      - name: status_category_changed
        description: Timestamp of when the status was last changed.
      - name: summary
        description: Title of the issue.
      - name: time_spent
        description: The time that was spent working on this issue, in seconds.
      - name: _time_spent
        description: The time that was spent working on this issue, in seconds.
      - name: updated
        description: Timestamp of when the issue was last updated in some way.
      - name: work_ratio
        description: >
          The percentage of work that has been logged against the issue (time_spent) vs the original estimate of worktime.
          Equals -1.0 when the fields required for calculation are not provided.

